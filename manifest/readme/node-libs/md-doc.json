{"name":"md-doc","summary":"<p>这是一个强大的 Markdown 文档转换工具，专为组件库和模块化项目设计。它能够智能解析并生成结构化的文档，让你的 README.md 文档维护变得轻松高效。</p>\n<p>该工具的核心优势在于其双向转换能力：</p>\n<ul>\n<li><strong>stringify</strong>: 将分散的文档片段（摘要、API、示例代码等）智能合并成一个完整的 README.md 文件</li>\n<li><strong>parse</strong>: 将已有的 README.md 文件反向解析为结构化数据，便于后续处理和展示</li>\n</ul>\n<p>特别适合组件库文档生成场景，支持：</p>\n<ul>\n<li>自动读取 doc/ 目录下的文档片段文件</li>\n<li>智能解析示例代码及其依赖关系</li>\n<li>自动处理 SCSS 样式并生成独立的 className</li>\n<li>支持从外部引用参考文档的 README</li>\n<li>支持全屏示例模式</li>\n</ul>\n<p>使用该工具，你可以将复杂的文档拆分为易于维护的独立文件，然后一键生成美观的统一文档，大幅提升文档编写效率。</p>\n<h3>stringify</h3>\n<p>根据目录地址编译并格式化数据，返回数据或将数据导出为 README.md 文件</p>\n<h4>工作流程</h4>\n<ol>\n<li>获取目录地址（默认为当前工作目录）</li>\n<li>读取 doc/ 目录下的固定文件（api.md、summary.md、example.json、style.css/scss、package.json）</li>\n<li>解析 example.list 数据，读取其中 code 字段指定的文件内容并重新赋值</li>\n<li>获取组件名称（优先使用传入的 name，否则使用 package.json 中的 name）</li>\n<li>格式化所有数据，生成新的 README.md 内容</li>\n<li>根据 output 参数决定是直接写入文件还是返回数据</li>\n</ol>\n<h4>输出模式</h4>\n<p><strong>output 为 true</strong>：直接在指定目录下生成 README.md 文件</p>\n<p><strong>output 为 false</strong>：返回包含以下字段的对象：</p>\n<ul>\n<li>readme：生成的 README.md 完整内容</li>\n<li>data：结构化的文档数据\n<ul>\n<li>name：组件名称</li>\n<li>description：组件描述</li>\n<li>summary：摘要内容（HTML 格式）</li>\n<li>example：示例数据（包含 className、style、list 等）</li>\n<li>api：API 文档内容（HTML 格式）</li>\n</ul>\n</li>\n</ul>\n<h3>parse</h3>\n<p>接收读取到的 README.md 文件数据，返回一个格式化后的 Object</p>\n<h4>解析功能</h4>\n<ul>\n<li>name：提取 H1 标题作为组件名称</li>\n<li>summary：提取\"概述\"部分的内容</li>\n<li>api：提取\"API\"部分的内容</li>\n<li>example：提取并解析\"示例\"部分\n<ul>\n<li>自动识别全屏示例模式</li>\n<li>解析示例样式（SCSS），生成 className 和 style</li>\n<li>解析示例代码列表，包括标题、描述、依赖范围（scope）和代码内容</li>\n</ul>\n</li>\n</ul>\n<h4>example 数据结构</h4>\n<p>解析后的 example 对象包含：</p>\n<pre><code class=\"language-json\">{\n  \"isFull\": false,\n  \"className\": \"[name]_[hash]\",\n  \"style\": \".[name]_[hash]{...css...}\",\n  \"list\": [\n    {\n      \"title\": \"示例标题\",\n      \"description\": \"示例说明\",\n      \"scope\": [\n        {\n          \"name\": \"组件名\",\n          \"packageName\": \"包名\",\n          \"importStatement\": \"导入语句\"\n        }\n      ],\n      \"code\": \"示例代码字符串\"\n    }\n  ]\n}\n</code></pre>\n<p>这个反解析功能特别适合将已有的 README.md 文档转换为组件文档系统所需的结构化数据，实现文档的自动化管理和展示。</p>","api":"<h3>stringify</h3>\n<h4>参数</h4>\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>说明</th>\n<th>类型</th>\n<th>默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>baseDir</td>\n<td>需要解析的目录路径</td>\n<td>string</td>\n<td>当前工作目录</td>\n</tr>\n<tr>\n<td>output</td>\n<td>是否需要生成解析出来的 README.md 文件</td>\n<td>boolean</td>\n<td>true</td>\n</tr>\n<tr>\n<td>name</td>\n<td>自定义组件名称</td>\n<td>string</td>\n<td>从 package.json 读取</td>\n</tr>\n</tbody>\n</table>\n<h4>返回值</h4>\n<p>当 <code>output</code> 为 true 时，不返回数据，直接在传入目录下生成 README.md 文件。</p>\n<p>当 <code>output</code> 为 false 时，返回：</p>\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>说明</th>\n<th>类型</th>\n<th>默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>readme</td>\n<td>解析后新生成的 README.md 完整内容</td>\n<td>string</td>\n<td>''</td>\n</tr>\n<tr>\n<td>data</td>\n<td>解析路径文件格式化后的结构化数据</td>\n<td>DataOptions</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<h4>DataOptions 数据结构</h4>\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>说明</th>\n<th>类型</th>\n<th>默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td>组件名称</td>\n<td>string</td>\n<td>''</td>\n</tr>\n<tr>\n<td>packageName</td>\n<td>npm 包名</td>\n<td>string</td>\n<td>''</td>\n</tr>\n<tr>\n<td>description</td>\n<td>组件描述</td>\n<td>string</td>\n<td>''</td>\n</tr>\n<tr>\n<td>summary</td>\n<td>概述内容（HTML 格式）</td>\n<td>string</td>\n<td>''</td>\n</tr>\n<tr>\n<td>example</td>\n<td>示例数据（包含 className、style、list）</td>\n<td>object</td>\n<td>-</td>\n</tr>\n<tr>\n<td>api</td>\n<td>API 文档内容（HTML 格式）</td>\n<td>string</td>\n<td>''</td>\n</tr>\n</tbody>\n</table>\n<h3>parse</h3>\n<h4>参数</h4>\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>说明</th>\n<th>类型</th>\n<th>默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>readmeString</td>\n<td>需要解析的 README.md 文件内容</td>\n<td>string</td>\n<td>-</td>\n</tr>\n</tbody>\n</table>\n<h4>返回值</h4>\n<p>返回解析后的结构化对象：</p>\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>说明</th>\n<th>类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td>解析出的组件名称（H1 标题）</td>\n<td>string</td>\n</tr>\n<tr>\n<td>summary</td>\n<td>解析出的概述内容</td>\n<td>string</td>\n</tr>\n<tr>\n<td>api</td>\n<td>解析出的 API 文档内容</td>\n<td>string</td>\n</tr>\n<tr>\n<td>example</td>\n<td>解析出的示例数据</td>\n<td>object</td>\n</tr>\n</tbody>\n</table>\n<h4>example 返回对象结构</h4>\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>说明</th>\n<th>类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>isFull</td>\n<td>是否为全屏示例模式</td>\n<td>boolean</td>\n</tr>\n<tr>\n<td>className</td>\n<td>生成的样式类名</td>\n<td>string</td>\n</tr>\n<tr>\n<td>style</td>\n<td>生成的 CSS 样式</td>\n<td>string</td>\n</tr>\n<tr>\n<td>list</td>\n<td>示例代码列表</td>\n<td>array</td>\n</tr>\n</tbody>\n</table>\n<h4>list 数组项结构</h4>\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>说明</th>\n<th>类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>title</td>\n<td>示例标题</td>\n<td>string</td>\n</tr>\n<tr>\n<td>description</td>\n<td>示例说明</td>\n<td>string</td>\n</tr>\n<tr>\n<td>scope</td>\n<td>依赖范围（包含 name、packageName、importStatement）</td>\n<td>array</td>\n</tr>\n<tr>\n<td>code</td>\n<td>示例代码内容</td>\n<td>string</td>\n</tr>\n</tbody>\n</table>\n<h3>辅助函数</h3>\n<h4>styleTransform</h4>\n<p>样式转换函数，将样式字符串转换为 className 和 CSS</p>\n<table>\n<thead>\n<tr>\n<th>参数名</th>\n<th>说明</th>\n<th>类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td>组件名称</td>\n<td>string</td>\n</tr>\n<tr>\n<td>styleString</td>\n<td>样式字符串（可能包含 SCSS）</td>\n<td>string</td>\n</tr>\n</tbody>\n</table>\n<h4>返回值</h4>\n<table>\n<thead>\n<tr>\n<th>属性名</th>\n<th>说明</th>\n<th>类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>className</td>\n<td>生成的唯一样式类名</td>\n<td>string</td>\n</tr>\n<tr>\n<td>style</td>\n<td>编译后的 CSS</td>\n<td>string</td>\n</tr>\n</tbody>\n</table>\n<h4>注意</h4>\n<ul>\n<li>需要 sass 模块支持 SCSS 编译</li>\n<li>使用 MD5 生成唯一的样式类名</li>\n<li>如果未安装 sass，则返回空样式</li>\n</ul>","example":{"isFull":false,"list":[]}}
